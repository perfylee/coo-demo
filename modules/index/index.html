<div class="index">
    <div class="index-header ">
       <div class="date">
           <span class="day">{{top.day}}</span>
           <span class="month">{{top.month}}.</span>
       </div>

        <div class="slogan">
            <!--<i class="icon certificate"></i>-->
            <span>{{top.slogan}}</span>
        </div>

        <!--
        <div class="tools">
            <a href="#"><i class="icon alarm outline"></i></a>
            <a href="#"><i class="icon ellipsis horizontal"></i></a>
        </div>
        -->
    </div>

    <div class="index-service">
        <div class="item item{{item.sort}}" ng-repeat="item in category.items" ng-click="category.select(item)">
            <span class="name">{{item.name}}</span>
            <span class="sub">{{item.en}}</span>
        </div>

    </div>

    <div class="index-main">

        <div class="item" ng-click="car.modalVisible = true">
            <div class="name">
                <i class="icon car"></i>
                <span> {{appointment.car.CarNum}}</span>
            </div>
            <span class="sub">
                <span>{{appointment.car.CarBrand}} {{appointment.car.CarModel}}</span>
            </span>
        </div>

        <div class="item" ng-click="toggleSelectShop()">
            <div class="name">
                <i class="icon building"></i>
                <span>
                    {{current.shop.name}}
                    <div class="floating ui {{current.shop.category == '最常去'?'orange':'green'}} label" ng-if="current.shop!=null && current.shop.category!=null && current.shop.category!=''">{{current.shop.category}}</div>
                </span>
            </div>
            <div class="sub">
                <span>{{current.shop.address}}</span>
            </div>
            <div class="sub">
                <span class="orange">{{current.shop.service}} 费用 {{current.shop.price}}元</span>
            </div>
        </div>

        <div class="item" ng-click="toggleSelectTime()">
            <div class="name">
                <i class="icon time"></i>
                <span>  {{current.time.label}}</span>
            </div>
            <div class="sub times">

                <span  class="{{time.id == current.time.id?'selected':''}}" ng-click="selectTimeQuick(time,$event)" ng-repeat="time in times_quick ">
                    {{FormatTimeLabel(time.label)}}
                </span>
            </div>
        </div>

    </div>

    <div class="index-start" ng-click="toggleSubmit()">
        <button class="ui green button big fluid">
            一键预约
        </button>
    </div>

    <div class="index-footer">

        <div class="item">
            <i class="icon empty heart"></i>
            <span class="name">优惠活动</span>
            <div class="floating ui red label">2</div>
        </div>

        <a class="item" href="#!/defaultSetting">
            <i class="icon setting"></i>
            <span class="name">默认设置</span>
        </a>

        <div class="item">
            <i class="icon file text outline"></i>
            <span class="name">我的订单</span>
        </div>

    </div>

</div>


<coo-modal size="small" show="isShowSubmit">
    <i class="icon close"></i>
    <div class="title">
        <i class="icon add to cart"></i> 预约订单确认
    </div>
    <div class="description">
        <div class="ui header">李鹏飞先生：</div>
        <p>您的爱车 {{current.car.pn}} 预约了以下服务，请确认</p>

        <div class="ui list">
            <div class="item">
                <i class="icon time"></i>
                <div class="content">{{current.time.label}}</div>
            </div>
            <div class="item">
                <i class="icon building"></i>
                <div class="content">{{current.shop.name}}</div>
            </div>
            <div class="item">
                <i class="icon user"></i>
                <div class="content">
                    {{current.shop.service}} 服务，预计费用 {{current.shop.price}}元
                </div>
            </div>
        </div>
    </div>
    <div class="buttons">
        <button class="ui button fluid close" ng-click="toggleSubmit()">
            容我三思
        </button>
        <button class="ui green button fluid" >
            确认
        </button>
    </div>

</coo-modal>

<coo-modal size="large" show="car.modalVisible">
    <i class="icon close"></i>
    <div class="title">
        <i class="icon car"></i> 选择车辆
    </div>
    <div class="description">
        <div class="ui list car-selector">
            <div class="item car " ng-repeat="item in car.items" ng-click="car.select(item)">
                <div class="pn">{{item.CarNum}}</div>
                <div class="model">{{item.CarBrand}} {{item.CarModel}}</div>
                <i class="icon check mark"></i>
            </div>
        </div>
    </div>

</coo-modal>

<coo-modal size="large" show="time.modalVisible">
    <i class="icon close"></i>
    <div class="title">
        <i class="icon time"></i> 选择时间
    </div>
    <div class="description">
        <div class="ui list time-selector">
            <div class="item" ng-repeat="(index,timesOfDay) in times">
                <div class="ui mini orange label title">{{index == 0 ?'今天':(index == 1 ?'明天':'后天')}}</div>
                <div class="times">
                    <span ng-repeat="time in timesOfDay" class="{{selectTimeCls(time)}}" ng-click="selectTime(time)">
                        {{Date(time.time) | date:'HH:mm'}}
                    </span>
                </div>
            </div>
        </div>
    </div>

</coo-modal>

<coo-modal size="large" show="shop.modalVisible">
    <i class="icon close"></i>
    <div class="title">
        <i class="icon building outline"></i> 选择门店
    </div>
    <div class="description">
        <div class="ui green secondary pointing menu three item ">
            <a class="item {{selectShopTab == 'quickView'?'active':''}}" ng-click="selectShopTab = 'quickView'">快速选择 </a>
            <a class="item {{selectShopTab == 'favoView'?'active':''}}" ng-click="selectShopTab = 'favoView'">我的收藏</a>
            <a class="item {{selectShopTab == 'mapView'?'active':''}}" ng-click="selectShopTab = 'mapView'">所有门店 </a>
        </div>

        <div  class="shop-selector" ng-show="selectShopTab == 'quickView'">

            <div class="ui label small orange">最常去的门店</div>

            <div class="shop {{shop.id == current.shop.id ?'current':''}}" ng-click="selectShop(shop)" ng-repeat="shop in shops_quick | filter:{category:'最常去'}">
                <img ng-src="{{shop.img}}">
                <div class="name">{{shop.name}}</div>
                <div class="address">{{shop.address}}</div>
                <div class="stars">
                    <i class="icon star orange"></i>
                    <i class="icon star orange"></i>
                    <i class="icon star orange"></i>
                </div>
                <div class="addition">
                    <div>
                        <i class="icon marker"></i>
                        {{shop.distance}}
                    </div>
                    <div>
                        <i class="icon comment"></i>
                        {{shop.comment}}
                    </div>
                    <div>
                        <i class="icon marker"></i>
                        {{shop.sold}}
                    </div>
                </div>
            </div>

            <div class="ui label small green">最近的门店</div>

            <div class="shop {{shop.id == current.shop.id ?'current':''}}" ng-click="selectShop(shop)" ng-repeat="shop in shops_quick | filter:{category:'最近的'}">
                <img ng-src="{{shop.img}}">
                <div class="name">{{shop.name}}</div>
                <div class="address">{{shop.address}}</div>
                <div class="stars">
                    <i class="icon star orange"></i>
                    <i class="icon star orange"></i>
                    <i class="icon star orange"></i>
                </div>
                <div class="addition">
                    <div>
                        <i class="icon marker"></i>
                        {{shop.distance}}
                    </div>
                    <div>
                        <i class="icon comment"></i>
                        {{shop.comment}}
                    </div>
                    <div>
                        <i class="icon marker"></i>
                        {{shop.sold}}
                    </div>
                </div>
            </div>
        </div>

        <div class="shop-selector"  ng-show="selectShopTab == 'favoView'">
            <div class="shop {{shop.id == current.shop.id ?'current':''}}" ng-click="selectShop(shop)" ng-repeat="shop in shops_quick">
                <img ng-src="{{shop.img}}">
                <div class="name">{{shop.name}}</div>
                <div class="address">{{shop.address}}</div>
                <div class="stars">
                    <i class="icon star orange"></i>
                    <i class="icon star orange"></i>
                    <i class="icon star orange"></i>
                </div>
                <div class="addition">
                    <div>
                        <i class="icon marker"></i>
                        {{shop.distance}}
                    </div>
                    <div>
                        <i class="icon comment"></i>
                        {{shop.comment}}
                    </div>
                    <div>
                        <i class="icon marker"></i>
                        {{shop.sold}}
                    </div>
                </div>
            </div>
        </div>

        <div ng-show="selectShopTab == 'mapView'">
            地图
        </div>

    </div>

</coo-modal>

